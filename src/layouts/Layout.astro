---
import Head from '@components/Head.astro'
import Header from '@components/Header.astro'
import Modals from '@components/Modals.astro'
---

<!DOCTYPE html>
<html lang='en'>
	<Head />
	<body class='bg-base-100 text-base-content'>
		<Header />
		<Modals />
		<slot />
	</body>
</html>
<script is:inline>
	// ☝️ This script prevent the FART effect.
	if (localStorage.getItem('theme') === null) {
		document.documentElement.setAttribute('data-theme', 'dark')
	} else document.documentElement.setAttribute('data-theme', localStorage.getItem('theme'))
	// "theme" LocalStorage value is set by the package to remember user preference.
	// The value is checked and applyed before rendering anything.
</script>
<script>
	// import { bookmarkHandler } from '@services/bookmark'
	import { themeChange } from 'theme-change'
	
	// setTimeout(() => {
	// 	bookmarkHandler()
	// 	console.log(bookmarkHandler)
	// }, 1000)

	themeChange()

	import Swup from 'swup'
    import SwupPreloadPlugin from '@swup/preload-plugin'
	const swup = new Swup({})
</script>
